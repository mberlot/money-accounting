(this["webpackJsonpmoney-accounting-web"]=this["webpackJsonpmoney-accounting-web"]||[]).push([[0],{110:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n(0),a=n.n(r),s=n(15),i=n.n(s),o=(n(71),n(72),n(73),n(13)),j=n(53),u=n(8),b=n(11),O=n(112),l=n(6),d=n.n(l),h=n(10),f=n(113),p=n(33),x=n.n(p),m=x.a.create({baseURL:"http://localhost:3001",timeout:Number(6e4)});m.CancelToken=x.a.CancelToken,m.isCancel=x.a.isCancel;var E,g=Object(f.a)("REQUEST_CURRENT_BALANCE"),T=Object(f.a)("REQUEST_CURRENT_BALANCE_SUCCESS"),C=Object(f.a)("REQUEST_CURRENT_BALANCE_FAILED"),v=Object(f.a)("REQUEST_NEW_TRANSACTION"),S=Object(f.a)("REQUEST_NEW_TRANSACTION_SUCCESS"),y=Object(f.a)("REQUEST_NEW_TRANSACTION_FAILED"),N=function(){return function(){var e=Object(h.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(g()),e.prev=1,e.next=4,m.get("/currentBalance");case 4:n=e.sent,t(T({accountInfo:n.data.accountInfo})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(C(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},_=function(e,t){return function(){var n=Object(h.a)(d.a.mark((function n(c){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c(v()),n.prev=1,n.next=4,m.post("/newTransaction",{amount:e,type:t});case 4:n.sent,c(S()),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),c(y(n.t0));case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()},R="FETCHING",A="FETCHED",I={fetchState:"NOT_FETCHED",accountInfo:{},errorMessage:""},k=Object(O.a)((E={},Object(u.a)(E,g,(function(e){return Object(b.a)(Object(b.a)({},e),{},{fetchState:R})})),Object(u.a)(E,T,(function(e,t){return Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{fetchState:A,errorMessage:I.error})})),Object(u.a)(E,C,(function(e,t){return Object(b.a)(Object(b.a)({},e),{},{fetchState:A,errorMessage:t.payload})})),Object(u.a)(E,v,(function(e){return Object(b.a)(Object(b.a)({},e),{},{fetchState:R})})),Object(u.a)(E,S,(function(e){return Object(b.a)(Object(b.a)({},e),{},{fetchState:A,errorMessage:I.error})})),Object(u.a)(E,y,(function(e,t){return Object(b.a)(Object(b.a)({},e),{},{fetchState:A,errorMessage:t.payload})})),E),I),w=Object(o.c)({account:k}),F=n(40),D=n(55),U=n.n(D),L=n(56),M={key:"root",storage:U.a,whitelist:[""]},B=Object(F.a)(M,(function(e,t){return w(e,t)})),H=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,Q=Object(o.e)(B,H(Object(o.a)(j.a),Object(L.cacheEnhancer)())),P=Object(F.b)(Q),W=n(16),q=n(57),G=n(14),J=n(28),X=n(29),$=n(26),V=n(64),z=n(36),K=n(61),Y=n(39),Z="DEBIT",ee="CREDIT",te=Y.b().shape({amount:Y.a().positive().integer().required()}),ne=function(e){var t,n=e.currentMoney,a=Object(r.useState)(!1),s=Object(G.a)(a,2),i=s[0],o=s[1],j=Object(r.useState)(""),u=Object(G.a)(j,2),b=u[0],O=u[1],l=Object(r.useState)(""),f=Object(G.a)(l,2),p=f[0],x=f[1],m=Object(W.b)(),E=Object(z.useForm)({resolver:Object(K.yupResolver)(te)}),g=E.register,T=E.handleSubmit,C=E.errors,v=function(){return o(!1)},S=function(e){o(!0),O(e)},y=function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(_(p,b));case 2:o(!1),m(N());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center",children:[Object(c.jsxs)("h1",{className:"display-4",children:["$",n]}),Object(c.jsx)("p",{className:"text-muted",children:"Current balance"}),Object(c.jsx)(X.a,{variant:"outline-dark",onClick:function(){return S(ee)},children:"Credit"})," ",Object(c.jsx)(X.a,{variant:"outline-dark",onClick:function(){return S(Z)},children:"Debit"})]}),Object(c.jsx)(J.a,{show:i,onHide:v,children:Object(c.jsxs)("form",{onSubmit:T(y),children:[Object(c.jsx)(J.a.Header,{children:b}),Object(c.jsxs)(J.a.Body,{children:[Object(c.jsxs)($.a,{className:"mb-3",children:[Object(c.jsx)($.a.Prepend,{children:Object(c.jsx)($.a.Text,{children:"$"})}),Object(c.jsx)(V.a,{onChange:function(e){return x(e.target.value)},name:"amount",type:"number",min:"1",ref:g({required:!0,maxLength:20,min:1})}),Object(c.jsx)($.a.Append,{children:Object(c.jsx)($.a.Text,{children:".00"})})]}),Object(c.jsx)("p",{children:null===(t=C.amount)||void 0===t?void 0:t.message})]}),Object(c.jsxs)(J.a.Footer,{children:[Object(c.jsx)(X.a,{variant:"secondary",onClick:v,children:"Close"}),Object(c.jsx)(X.a,{type:"submit",children:"Apply"})]})]})})]})},ce=n(62),re=n(63),ae="FETCHING",se="FETCHED",ie="DEBIT",oe=function(e){e.transactions;var t=Object(W.c)((function(e){return e.account.accountInfo})),n=Object(W.c)((function(e){return e.account.fetchState}));return Object(c.jsxs)(c.Fragment,{children:[n===ae&&Object(c.jsx)(ce.a,{animation:"border",role:"status",children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})}),n===se&&t.transaction&&t.transaction.length>0&&Object(c.jsxs)(re.a,{striped:!0,bordered:!0,hover:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Date"}),Object(c.jsx)("th",{children:"Type"}),Object(c.jsx)("th",{children:"Amount"})]})}),Object(c.jsx)("tbody",{children:t.transaction&&t.transaction.length>0&&t.transaction.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.effectiveDate}),Object(c.jsx)("td",{children:Object(c.jsx)("span",{className:e.type===ie?"badge badge-pill badge-primary":"badge badge-pill badge-dark",children:e.type})}),Object(c.jsx)("td",{children:e.amount})]},t)}))})]}),n===se&&t.transaction&&0===t.transaction.length&&Object(c.jsx)("p",{children:"There is no movement into your account."})]})},je=function(e){var t=Object(W.b)(),n=Object(W.c)((function(e){return e.account.accountInfo}));return Object(r.useEffect)((function(){t(N())}),[t]),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(ne,{currentMoney:n.currentMoney}),Object(c.jsx)(oe,{})]})};var ue=function(){return Object(c.jsx)(W.a,{store:Q,children:Object(c.jsx)(q.a,{loading:null,persistor:P,children:Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(je,{})})})})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,114)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(ue,{})}),document.getElementById("root")),be()},71:function(e,t,n){},73:function(e,t,n){}},[[110,1,2]]]);
//# sourceMappingURL=main.a034dd7e.chunk.js.map