{"version":3,"sources":["../../api/account/account.js"],"names":["accountRepository","require","repository","transactionType","DEBIT","oldValue","newValue","CREDIT","Account","currentMoney","transaction","prototype","getAccountInfo","transactions","map","item","JSON","parse","newTransaction","amount","type","transactionOperation","module","exports"],"mappings":";;AAAA,MAAMA,oBAAoBC,QAAQ,qBAAR,CAA1B;;AAEA,MAAMC,aAAa,IAAIF,iBAAJ,EAAnB;AACA,MAAMG,kBAAkB;AACpBC,WAAO,CAACC,QAAD,EAAWC,QAAX,KAAwBD,WAAWC,QADtB;AAEpBC,YAAQ,CAACF,QAAD,EAAWC,QAAX,KAAwBD,WAAWC;AAFvB,CAAxB;;AAKA,SAASE,OAAT,GAAmB;AACf,SAAKC,YAAL,GAAoB,CAApB;AACA,SAAKC,WAAL,GAAmB,EAAnB;AACH;;AAEDF,QAAQG,SAAR,CAAkBC,cAAlB,GAAmC,YAAY;AAC3C,UAAM,EAAEH,YAAF,EAAgBI,YAAhB,KAAiC,MAAMX,WAAWU,cAAX,EAA7C;AACA,cAAKH,YAAL,GAAoBA,YAApB;AACA,cAAKC,WAAL,GAAmBG,aAAaC,GAAb,CAAiBC,QAChCC,KAAKC,KAAL,CAAWF,IAAX,CADe,CAAnB;AAGA;AACH,CAPD;;AASAP,QAAQG,SAAR,CAAkBO,cAAlB,GAAmC,CAACC,MAAD,EAASC,IAAT,KAAkB;AACjD,UAAMC,uBAAuBlB,gBAAgBiB,IAAhB,CAA7B;AACA,QAAIC,oBAAJ,EAA0B;AACtBnB,mBAAWgB,cAAX,CAA0BC,MAA1B,EAAkCC,IAAlC,EAAwCC,oBAAxC;AACA,eAAO,IAAP;AACH,KAHD,MAIK;AACD,eAAO,gBAAP;AACH;AACJ,CATD;;AAWAC,OAAOC,OAAP,GAAiBf,OAAjB","file":"account.js","sourcesContent":["const accountRepository = require('./accountRepository');\n\nconst repository = new accountRepository();\nconst transactionType = {\n    DEBIT: (oldValue, newValue) => oldValue - newValue,\n    CREDIT: (oldValue, newValue) => oldValue + newValue\n};\n\nfunction Account() {\n    this.currentMoney = 0;\n    this.transaction = [];\n}\n\nAccount.prototype.getAccountInfo = async () => {\n    const { currentMoney, transactions } = await repository.getAccountInfo();\n    this.currentMoney = currentMoney;\n    this.transaction = transactions.map(item =>\n        JSON.parse(item)\n    );\n    return this;\n}\n\nAccount.prototype.newTransaction = (amount, type) => {\n    const transactionOperation = transactionType[type]\n    if (transactionOperation) {\n        repository.newTransaction(amount, type, transactionOperation);\n        return 'OK';\n    }\n    else {\n        return 'Incorrect type'\n    }\n}\n\nmodule.exports = Account;\n"]}